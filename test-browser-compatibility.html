<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç€è¦½å™¨å…¼å®¹æ€§æ¸¬è©¦</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
        }
        .test-item {
            background: #2a2a2a;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #007aff;
        }
        .pass { border-left-color: #34c759; }
        .fail { border-left-color: #ff3b30; }
        .warning { border-left-color: #ff9500; }
        h1 { color: #fff; }
        h2 { color: #007aff; margin-top: 30px; }
        code { background: #000; padding: 2px 6px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>ğŸŒ ç€è¦½å™¨å…¼å®¹æ€§æ¸¬è©¦</h1>
    <div id="results"></div>

    <script>
        const results = [];
        
        function test(name, condition, required = true) {
            const passed = condition();
            results.push({ name, passed, required });
            return passed;
        }

        function displayResults() {
            const container = document.getElementById('results');
            let html = '';

            // Browser Info
            html += '<h2>ç€è¦½å™¨è³‡è¨Š</h2>';
            html += `<div class="test-item">
                <strong>User Agent:</strong> ${navigator.userAgent}<br>
                <strong>å¹³å°:</strong> ${navigator.platform}<br>
                <strong>èªè¨€:</strong> ${navigator.language}
            </div>`;

            // WebGL Test
            html += '<h2>å¿…è¦åŠŸèƒ½æª¢æ¸¬</h2>';
            
            const webglSupported = test('WebGL æ”¯æ´', () => {
                try {
                    const canvas = document.createElement('canvas');
                    return !!(canvas.getContext('webgl') || canvas.getContext('webgl2'));
                } catch (e) {
                    return false;
                }
            }, true);

            test('ES2020 èªæ³•æ”¯æ´', () => {
                try {
                    eval('const test = () => {}; class Test {}');
                    return true;
                } catch (e) {
                    return false;
                }
            }, true);

            test('CSS Grid æ”¯æ´', () => {
                return CSS.supports('display', 'grid');
            }, true);

            test('CSS Flexbox æ”¯æ´', () => {
                return CSS.supports('display', 'flex');
            }, true);

            const backdropFilterSupported = test('CSS backdrop-filter æ”¯æ´', () => {
                return CSS.supports('backdrop-filter', 'blur(10px)') || 
                       CSS.supports('-webkit-backdrop-filter', 'blur(10px)');
            }, false);

            // Display test results
            html += '<h2>æ¸¬è©¦çµæœ</h2>';
            results.forEach(result => {
                const className = result.passed ? 'pass' : (result.required ? 'fail' : 'warning');
                const icon = result.passed ? 'âœ…' : (result.required ? 'âŒ' : 'âš ï¸');
                html += `<div class="test-item ${className}">
                    ${icon} <strong>${result.name}</strong>: ${result.passed ? 'é€šé' : (result.required ? 'å¤±æ•—ï¼ˆå¿…è¦ï¼‰' : 'ä¸æ”¯æ´ï¼ˆæœ‰é™ç´šè™•ç†ï¼‰')}
                </div>`;
            });

            // Summary
            const passed = results.filter(r => r.passed).length;
            const total = results.length;
            const requiredPassed = results.filter(r => r.required && r.passed).length;
            const requiredTotal = results.filter(r => r.required).length;

            html += '<h2>ç¸½çµ</h2>';
            html += `<div class="test-item ${requiredPassed === requiredTotal ? 'pass' : 'fail'}">
                <strong>ç¸½é«”å…¼å®¹æ€§:</strong> ${passed}/${total} é …é€šé<br>
                <strong>å¿…è¦åŠŸèƒ½:</strong> ${requiredPassed}/${requiredTotal} é …é€šé<br>
                ${requiredPassed === requiredTotal ? 
                    'âœ… <strong>æ‚¨çš„ç€è¦½å™¨å®Œå…¨æ”¯æ´æ­¤æ‡‰ç”¨</strong>' : 
                    'âŒ <strong>æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å¿…è¦åŠŸèƒ½ï¼Œè«‹æ›´æ–°ç€è¦½å™¨</strong>'}
            </div>`;

            // Recommendations
            html += '<h2>å»ºè­°</h2>';
            if (!webglSupported) {
                html += '<div class="test-item fail">âŒ <strong>WebGL ä¸æ”¯æ´</strong><br>åœ°åœ–åŠŸèƒ½ç„¡æ³•ä½¿ç”¨ï¼Œè«‹æ›´æ–°åˆ°æ”¯æ´ WebGL çš„ç€è¦½å™¨ç‰ˆæœ¬</div>';
            }
            if (!backdropFilterSupported) {
                html += '<div class="test-item warning">âš ï¸ <strong>backdrop-filter ä¸æ”¯æ´</strong><br>æ¯›ç»ç’ƒæ•ˆæœæœƒé™ç´šç‚ºåŠé€æ˜èƒŒæ™¯ï¼Œä¸å½±éŸ¿åŠŸèƒ½</div>';
            }

            container.innerHTML = html;
        }

        // Run tests
        displayResults();
    </script>
</body>
</html>

